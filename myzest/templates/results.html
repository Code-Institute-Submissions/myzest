{% extends 'base.html' %}
{% block pagetitle %} - search results {% endblock %}
{% block content %}
<header>
	<h3 class="rcp-sel-title mt-4">Your search results</h3>
</header>

<!-- Recipes Found -->
<section class="mt-5 mb-5">
	<!-- recipe cards -->
	<ul class="rcp-results">
		{% for recipe in results %}
		{% include "rcpcard.html" %}
		{% endfor %}
	</ul>
	{% if page.total > 1 %}
	<ul class="pagination center">

		{% if page.current == 1 %}
		<li class="disabled">
			<a><i class="material-icons">chevron_left</i></a>
		</li>
		{% else %}
		<li>
			<a href="{{ url_for('search_recipes', target_page=page.current-1) }}"><i class="material-icons">chevron_left</i></a>
		</li>
		{% endif %}

		{% for current_page in range(1, page.total + 1) %}
			{% if current_page == page.current %}
			<li class="active"><a>{{ loop.index }}</a></li>
			{% else %}
			<li><a href="{{ url_for('search_recipes', target_page=loop.index) }}">{{ loop.index }}</a></li>
			{% endif %}
		{% endfor %}

		{% if page.current == page.total %}
		<li class="disabled">
			<a><i class="material-icons">chevron_right</i></a>
		</li>
		{% else %}
		<li>
			<a href="{{ url_for('search_recipes', target_page=page.current+1) }}"><i class="material-icons">chevron_right</i></a>
		</li>
		{% endif %}

	</ul>
	{% endif %}
</section>
{% endblock %}