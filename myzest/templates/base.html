<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
	<title>My Zest{% block pagetitle %}{% endblock %}</title>

	<script src="https://code.jquery.com/jquery-3.4.1.min.js"
			  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
			  crossorigin="anonymous"></script>

	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import materialize.css-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	<!-- NoUiSlider -->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='vendors/nouislider/distribute/nouislider.min.css')}}">
	<!-- Custom Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Donegal+One|Sahitya:700&display=swap" rel="stylesheet">

	<!-- Custom CSS -->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/myzest.css') }}">

</head>
<body>

<div class="navbar-fixed">
	<nav id="myzest-nav">
		<div class="nav-wrapper container">
			<a href="{{ url_for('home') }}" class="brand-logo brand-title left">MyZest</a>
			<a href="#" data-target="side-menu" class="sidenav-trigger right"><i class="material-icons">menu</i></a>
			<ul class="right hide-on-med-and-down">
				<li class=""><a href="{{ url_for('home') }}">Home</a></li>
				{% if 'user' not in session %}
					<li class=""><a href="{{ url_for('register') }}">Register</a></li>
					<li class=""><a href="{{ url_for('login') }}">Login</a></li>
				{% endif %}
				{% if 'user' in session %}
					<li class=""><a href="{{ url_for('add_recipe') }}">Add recipe</a></li>
					<li class=""><a href="{{ url_for('logout') }}">Logout</a></li>
				{% endif %}
			</ul>
		</div>
	</nav>
</div>
<ul class="sidenav" id="side-menu">
	<li class=""><a href="{{ url_for('home') }}">Home</a></li>
	{% if 'user' not in session %}
		<li class=""><a href="{{ url_for('register') }}">Register</a></li>
		<li class=""><a href="{{ url_for('login') }}">Login</a></li>
	{% endif %}
	{% if 'user' in session %}
		<li class=""><a href="{{ url_for('add_recipe') }}">Add recipe</a></li>
		<li class=""><a href="{{ url_for('logout') }}">Logout</a></li>
	{% endif %}
</ul>

{% with messages = get_flashed_messages(with_categories=True) %}
	{% if messages %}
		{% for category, message in messages %}
			<section class="card-panel flash-{{ category }} txt-ctr mr-auto ml-auto">
				<span>{{ message }}</span>
			</section>
		{% endfor %}
	{% endif %}
{% endwith %}

{% block content %}
{% endblock %}

<footer id="main-footer">
	<div class="container">
		<div class="row">
			<section class="col s5 offset-s2">
				<!-- support -->
				<ul class="footer-links">
					<li><a href="#">Site Map</a></li>
					<li><a href="#">Contact Us</a></li>
				</ul>
			</section>
			<!-- follow Us -->
			<section class="col s5">
				<ul class="footer-social">
					<li><a href="#">Twitter</a></li>
					<li><a href="#">Facebook</a></li>
				</ul>
			</section>
			<!-- Subscription -->
		</div>
		<!-- app navigation links & copyrights -->
		<div class="row">
			<!-- Legal Info -->
			<ul class="col s12 copyright">
				<li>Copyright &copy 2019 MyZest. All Rights Reserved</li>
				<li><a href="#">Privacy Policy</a></li>
				<li><a href="#">Data Policy</a></li>
			</ul>
		</div>
	</div>
</footer>

<!-- Materialize JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<script>
  $(document).ready(function(){

    // Init materialize sidebar
    $(".sidenav").sidenav();

    // navbar active page
    var currentPath = location.pathname;
    $("#myzest-nav ul [href], .sidenav [href]").each(function() {
    	if ($(this).attr("href") == currentPath) {
    		$(this).parent("li").addClass("active");
    	}
    	if (currentPath == "/") {
    		$("[href='/home']").parent("li").addClass("active");
    	}
    });

    // Init materialize floating action button
    $('.tooltipped').tooltip();

  });
</script>

{% block script %}
{% endblock %}

</body>
</html>